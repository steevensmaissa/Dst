<html>
<head>
    <title>Calculatrice </title>
    <link rel="stylesheet" href="main.css">
    <script language="JavaScript">
        function verification(entree) {
            var car ="1234567890[]()+-.*,/";
            for (var i = 0; i < entree.length; i++)
                if (car.indexOf(entree.charAt(i))<0 ) return false;
            return true;
        }

        function calcul() {
            var a = 0;
            if (verification(window.document.calculatrice.result.value))
                a = eval(window.document.calculatrice.result.value);
            window.document.calculatrice.result.value = a;
        }

        function ajouter(caracteres) {
            window.document.calculatrice.result.value =
                window.document.calculatrice.result.value + caracteres;
        }

        function fonction_speciale(fonction) {
            if (verification(window.document.calculatrice.result.value)) {
                if(fonction == "sqrt") {
                    var a = 0;
                    a = eval(window.document.calculatrice.result.value);
                    window.document.calculatrice.result.value = Math.sqrt(a);
                }
                if(fonction == "pow") {
                    var a = 0;
                    a = eval(window.document.calculatrice.result.value);
                    window.document.calculatrice.result.value = a * a;
                }
                if(fonction == "log") {
                    var a = 0;
                    a = eval(window.document.calculatrice.result.value);
                    window.document.calculatrice.result.value = Math.log(a);
                }
            } else window.document.calculatrice.result.value = 0
        }

    </script>
</head>
<body>
<table>
    <th>
        <form name="calculatrice" class="form">

            <textarea  class="affiche"  name="result"></textarea><br>
            <input class="input" type="button" name="b2" value="7" onclick="ajouter('7')">
            <input class="input"  type="button" name="b3" value="8" onclick="ajouter('8')" size="90">
            <input class="input" type="button" name="b4" value="9" onclick="ajouter('9')" size="30">
            <input class="input"  type="button" name="b12" value=":" onclick="ajouter('/')" size="30"><br>
            <input class="input"  type="button" name="b5" value="4" onclick="ajouter('4')" size="30">
            <input class="input"  type="button" name="b6" value="5" onclick="ajouter('5')" size="30">
            <input class="input"  type="button" name="b7" value="6" onclick="ajouter('6')" size="30">
            <input class="input" type="button" name="b11" value="x" onClick="ajouter('*')" size="30"><br>
            <input class="input"  type="button" name="b8" value="1" onClick="ajouter('1')" size="30">
            <input class="input"  type="button" name="b9" value="2" onClick="ajouter('2')" size="30">
            <input class="input" type="button" name="b10" value="3" onClick="ajouter('3')" size="30">
            <input class="input"  type="button" name="b13" value="-" onClick="ajouter('-')" size="30"><br>
            <input class="input"  type="button" name="b14" value="0" onClick="ajouter('0')" size="30">
            <input class="input"  type="button" name="b15" value="." onClick="ajouter('.')" size="30">
            <input class="input"  type="button" name="b16" value="+" onClick="ajouter('+')" size="30"><br>
            <input class="input"  type="reset" name="b17" value="ON/C" size="30">
            <input class="input" type="button" name="b18" value="=" onClick="calcul()" size="30"><br>
            <input  type="button"  class="button input" value="sqrt " onClick="fonction_speciale('sqrt')">
            <input  type="button"  class="button input" value=" pow " onClick="fonction_speciale('pow')">
            <input type="button"  class="button input" value=" log " onClick="fonction_speciale('log')">
        </form>
    </th>
</table>
</body>
</html>